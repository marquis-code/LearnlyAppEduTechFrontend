import{_ as b,e as C,a as k}from"./eye-close.5cf852ad.js";import{_ as E}from"./nuxt-link.a44b1bcd.js";import{r as u,u as _,H as p,A as S,s as T,f as D,h as N,j as e,v as P,x as g,L as U,z as s,k as f,y as V,t as A,m as x,l as M}from"./entry.3affc06b.js";import{_ as R}from"./ecommerce-logo.2f653554.js";import{a as L}from"./auth.a92d66c7.js";import{u as j}from"./vuex.esm-bundler.e6377e65.js";const B=()=>{const d=j(),o=u(!1),t=u({username:"",email:"",password:""}),r=async()=>{o.value=!0;try{const a={username:t.value.username,email:t.value.email,password:t.value.password},i=await L.register(a);p().$toast.success("Account was successfully created.",{autoClose:5e3,dangerouslyHTMLString:!0}),d.commit("user/SET_USER",i.data.data.user),d.commit("user/SET_TOKEN",i.data.data.token),S().push("/login")}catch(a){typeof a.response<"u"&&p().$toast.error("Something went wrong!",{autoClose:5e3,dangerouslyHTMLString:!0})}finally{o.value=!1}},m=_(()=>!!(t.value.username&&t.value.email&&t.value.password));return{registerPayload:t,handleRegister:r,loading:o,isFormEmpty:m}},F={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8"},H=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[e("img",{class:"mx-auto h-10 w-auto",src:R,alt:"Your Company"}),e("h2",{class:"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900"},"Create an account")],-1),O={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]"},$={class:"bg-white px-6 py-12 shadow sm:rounded-lg sm:px-12"},z=e("label",{for:"username",class:"block text-sm font-medium leading-6 text-[#0D0C22]"},"Username",-1),I={class:"mt-2"},K=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-[#0D0C22]"},"Email",-1),Y=e("label",{for:"password",class:"block text-sm font-medium leading-6 text-[#0D0C22]"},"Password",-1),q={class:"mt-0.5 relative"},G=["type"],J=["src"],Q=["disabled"],W={class:"mt-10 text-center text-sm text-gray-500"},ae=T({__name:"signup",setup(d){const{registerPayload:o,handleRegister:t,loading:r,isFormEmpty:m}=B(),a=u(!1),i=_(()=>a.value?k:C),y=()=>{a.value=!a.value},h=c=>{o.value.email=c};return(c,l)=>{const w=b,v=E;return D(),N("div",F,[H,e("div",O,[e("div",$,[e("form",{onSubmit:l[2]||(l[2]=P((...n)=>s(t)&&s(t)(...n),["prevent"])),class:"space-y-6",action:"#",method:"POST"},[e("div",null,[z,e("div",I,[g(e("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>s(o).username=n),placeholder:"Enter Username",id:"username",name:"username",type:"text",class:"block w-full rounded-md border border-gray-100 p-3 py-3.5 text-gray-900 shadow-sm placeholder:text-gray-400 placeholder:font-light outline-none"},null,512),[[U,s(o).username]])])]),e("div",null,[K,f(w,{onCompleted:h})]),e("div",null,[Y,e("div",q,[g(e("input",{name:"password",id:"password",type:s(a)?"text":"password","onUpdate:modelValue":l[1]||(l[1]=n=>s(o).password=n),class:"block w-full rounded-md border border-gray-100 p-3 py-3.5 text-gray-900 shadow-sm placeholder:text-gray-400 placeholder:font-light outline-none",placeholder:"Enter your password"},null,8,G),[[V,s(o).password]]),e("img",{src:s(i),onClick:y,alt:"",class:"absolute right-4 top-4 h-6 w-6 cursor-pointer"},null,8,J)])]),e("div",null,[e("button",{disabled:!s(m)||s(r),type:"submit",class:"flex disabled:cursor-not-allowed disabled:opacity-25 w-full justify-center rounded-md bg-indigo-600 px-3 py-2.5 text-sm font-semibold leading-6 text-white shadow-sm"},A(s(r)?"processing...":"Sign Up"),9,Q)])],32)]),e("p",W,[x(" Already have an account? "),f(v,{to:"/login",class:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500"},{default:M(()=>[x("Sign in")]),_:1})])])])}}});export{ae as default};
